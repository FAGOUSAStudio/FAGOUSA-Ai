<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FAGOUSA AI</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo&family=Tajawal&family=Changa&family=Amiri&family=Lateef&family=Reem+Kufi&family=IBM+Plex+Sans+Arabic&family=Almarai&family=Lalezar&family=Mada&family=Noto+Kufi+Arabic&family=Noto+Naskh+Arabic&family=Scheherazade+New&family=Markazi+Text&family=Mirza&family=El+Messiri&family=Harmattan&family=Aref+Ruqaa&family=Roboto&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #4285F4;
      --secondary-color: #34A853;
      --dark-bg: #1a1a1a;
      --light-bg: #222;
      --bot-msg: #333;
      --user-msg: #4285F4;
      --error-color: #EA4335;
    }body {
  margin: 0;
  font-family: 'Cairo', sans-serif;
  background-color: var(--dark-bg);
  color: white;
  display: flex;
  flex-direction: column;
  height: 100vh;
}

header {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  padding: 1em;
  text-align: center;
  font-size: 1.5em;
  position: relative;
  box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

#chat {
  flex: 1;
  padding: 1em;
  overflow-y: auto;
  display: flex;
  flex-direction: column-reverse;
  background: url('https://transparenttextures.com/patterns/dark-geometric.png');
}

.message {
  margin: 0.5em 0;
  padding: 1em;
  border-radius: 15px;
  max-width: 85%;
  word-wrap: break-word;
  line-height: 1.6;
  animation: fadeIn 0.3s ease;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.user {
  align-self: flex-end;
  background-color: var(--user-msg);
  color: white;
  border-bottom-right-radius: 3px;
}

.bot {
  align-self: flex-start;
  background-color: var(--bot-msg);
  border-bottom-left-radius: 3px;
}

footer {
  display: flex;
  padding: 1em;
  background-color: var(--light-bg);
  border-top: 1px solid #444;
  gap: 0.5em;
}

#input-container {
  flex: 1;
  display: flex;
  background-color: #2d2d2d;
  border-radius: 25px;
  padding: 0.5em 1em;
  align-items: center;
}

textarea {
  flex: 1;
  background: transparent;
  border: none;
  color: white;
  font-family: inherit;
  resize: none;
  font-size: 1em;
  padding: 0.5em;
  max-height: 120px;
}

textarea:focus { outline: none; }
textarea::placeholder { color: #aaa; }

#send-btn {
  background: transparent;
  border: none;
  color: var(--primary-color);
  font-size: 1.5em;
  cursor: pointer;
  padding: 0 0.5em;
}

.header-controls {
  position: absolute;
  left: 10px;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  gap: 10px;
}

.header-btn {
  background-color: rgba(255,255,255,0.2);
  color: white;
  border: none;
  border-radius: 50%;
  width: 35px;
  height: 35px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.developers-modal {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background-color: rgba(0,0,0,0.8);
  z-index: 100;
  align-items: center;
  justify-content: center;
}

.modal-content {
  background-color: var(--light-bg);
  padding: 2em;
  border-radius: 15px;
  max-width: 500px;
  width: 90%;
}

.close-modal {
  position: absolute;
  top: 15px; left: 15px;
  font-size: 1.5em;
  cursor: pointer;
  color: #aaa;
}

label { display: block; margin-top: 1em; }
select { width: 100%; padding: 0.5em; margin-top: 0.5em; border-radius: 10px; border: none; }

  </style>
</head>
<body>
  <header>
    <div class="header-controls">
      <button class="header-btn" onclick="toggleSettings()"><i class="fas fa-cog"></i></button>
      <button class="header-btn" onclick="toggleDevelopers()"><i class="fas fa-users"></i></button>
    </div>
    FAGOUSA AI
  </header>  <div id="chat">
    <div class="bot message">مرحبا بيك في FAGOUSA AI</div>
  </div>  <footer>
    <div id="input-container">
      <textarea id="input" rows="1" placeholder="اكتب ميساجك هنا 🙂"></textarea>
      <button id="send-btn" onclick="sendMessage()">&#9993;</button>
    </div>
  </footer>  <div id="settings-modal" class="developers-modal">
    <div class="modal-content">
      <span class="close-modal" onclick="toggleSettings()">&times;</span>
      <h2>إعدادات المظهر</h2>
      <label for="color-picker">لون الموقع:</label>
      <select id="color-picker" onchange="updateColor()">
        <!-- الألوان -->
        <option value="#4285F4">أزرق</option>
        <!-- بقية الخيارات ... -->
      </select>
      <label for="font-picker">الخط:</label>
      <select id="font-picker" onchange="updateFont()">
        <!-- الخطوط -->
        <option value="Cairo">Cairo</option>
        <!-- بقية الخيارات ... -->
      </select>
    </div>
  </div>  <div id="developers-modal" class="developers-modal">
    <div class="modal-content">
      <span class="close-modal" onclick="toggleDevelopers()">&times;</span>
      <h2>مطورو الموقع</h2>
      <div class="developer-card">
        <img src="https://graph.facebook.com/ramadhan.8068/picture?type=large" class="developer-avatar">
        <div class="developer-info">
          <div class="developer-name">رمضان</div>
          <div>مبرمج الواجهة والذكاء الاصطناعي</div>
          <a href="https://www.facebook.com/ramadhan.8068" target="_blank" class="developer-link"><i class="fab fa-facebook"></i> صفحتي</a>
        </div>
      </div>
    </div>
  </div>  <script>
    const API_KEY = "AIzaSyDerpD8vIBVv6MKTpLOypNoDBkLmZu1vZM";
    const BASE_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent";

    const chat = document.getElementById('chat');
    const input = document.getElementById('input');

    async function sendMessage() {
      const userText = input.value.trim();
      if (!userText) return;
      appendMessage(userText, 'user');
      input.value = '';

      const loadingId = 'loading-' + Date.now();
      appendTyping(loadingId);

      try {
        const res = await fetch(`${BASE_URL}?key=${API_KEY}`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            contents: [
              { role: "user", parts: [{ text: userText + " جاوبني بالجزائرية" }] }
            ]
          })
        });
        const data = await res.json();
        const reply = data?.candidates?.[0]?.content?.parts?.[0]?.text || 'ما جاوبنيش السيرفر 😕';
        removeTyping(loadingId);
        appendMessage(reply, 'bot');
      } catch (e) {
        removeTyping(loadingId);
        appendMessage('صار مشكل في الاتصال 😔', 'bot');
      }
    }

    function appendMessage(text, sender) {
      const msg = document.createElement('div');
      msg.className = `${sender} message`;
      msg.innerText = text;
      chat.prepend(msg);
      chat.scrollTop = 0;
    }

    function appendTyping(id) {
      const msg = document.createElement('div');
      msg.className = 'bot message';
      msg.id = id;
      msg.innerText ='ستنى...';
      chat.prepend(msg);
    }

    function removeTyping(id) {
      const el = document.getElementById(id);
      if (el) el.remove();
    }

    function toggleSettings() {
      const modal = document.getElementById('settings-modal');
      modal.style.display = (modal.style.display === 'flex') ? 'none' : 'flex';
    }

    function toggleDevelopers() {
      const modal = document.getElementById('developers-modal');
      modal.style.display = (modal.style.display === 'flex') ? 'none' : 'flex';
    }

    function updateColor() {
      const color = document.getElementById('color-picker').value;
      document.documentElement.style.setProperty('--primary-color', color);
      document.documentElement.style.setProperty('--user-msg', color);
    }

    function updateFont() {
      const font = document.getElementById('font-picker').value;
      document.body.style.fontFamily = `'${font}', sans-serif`;
    }
  </script></body>
</html>